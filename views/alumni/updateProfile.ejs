<% layout('layouts/boilerplate') %>
<div class="container justify-content-center align-items-center mt-5">
    <div class="row">
        <div class="col-md-6 offset-md-3 col-xl-4 offset-xl-4">
            <div class="card shadow">
                <!-- <img src="https://ae01.alicdn.com/kf/H73257a537f884e73b49dd4c10a5f389a1/^Game-Genshin-Impact-Keqing-Cosplay-Costume-Genshin-Impact-Cosplay-KEQING-Costume-Dress-Uniforms-Women-Halloween-Full.jpg" 
                    alt="" class="card-img-top"> -->
                <div class="card-body">
                    <h5 class="card-title">Update Alumni Profile</h5>
                    <form action="/alumni/<%= userPopulated.username %>/updateProfile?_method=PUT" method="POST" class="needs-validation" enctype="multipart/form-data" novalidate>
                        <div class="mb-3">
                            <label class="form-label" for="first_name">First name <span style='color:red'>(required)</span></label>
                            <input class="form-control" type="text" id="first_name" name="profile[first_name]" value="<%= userPopulated.alumni.first_name %>" required autofocus>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="last_name">Last name <span style='color:red'>(required)</span></label>
                            <input class="form-control" type="text" id="last_name" name="profile[last_name]" value="<%= userPopulated.alumni.last_name %>" required>
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="email">Email </label>
                            <input class="form-control" type="email" id="email" name="profile[email]" value="<%= userPopulated.email%>">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="dob-year">Date of Birth: Year</label>
                            <select class="form-control" id="dob-year" name="profile[dob][year]">
                                <% for (let year = 1900; year <= 2100; year++) { %>
                                    <% if(userPopulated.alumni.date_of_birth.year == year) { %>
                                        <option value='<%= year %>' selected><%= year %></option>
                                    <% } else { %>
                                        <option value='<%= year %>'><%= year %></option>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="dob-year">Date of Birth: Month</label>
                            <select class="form-control" id="dob-year" name="profile[dob][month]">
                                <% for (let month = 1; month <= 12; month++) { %>
                                    <% if(userPopulated.alumni.date_of_birth.month == month) { %>
                                        <option value='<%= month %>' selected><%= month %></option>
                                    <% } else { %>
                                        <option value='<%= month %>'><%= month %></option>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="dob-year">Date of Birth: Day</label>
                            <select class="form-control" id="dob-year" name="profile[dob][day]">
                                <% for (let day = 1; day <= 31; day++) { %>
                                    <% if(userPopulated.alumni.date_of_birth.day == day) { %>
                                        <option value='<%= day %>' selected><%= day %></option>
                                    <% } else { %>
                                        <option value='<%= day %>'><%= day %></option>
                                    <% } %>
                                <% } %>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="image">Update your thumbnail...</label>
                            <input class="form-control" type="file" id="image" name="image">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="hometown[country]">Hometown: Country</label>
                            <input class="form-control" type="text" id="hometown[country]" name="profile[hometown][country]" value="<%= userPopulated.alumni.hometown.country %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="hometown[state]">Hometown: State/province</label>
                            <input class="form-control" type="text" id="hometown[state]" name="profile[hometown][state]" value="<%= userPopulated.alumni.hometown.state %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="hometown[city]">Hometown: city</label>
                            <input class="form-control" type="text" id="hometown[city]" name="profile[hometown][city]" value="<%= userPopulated.alumni.hometown.city %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="present[country]">Present location: Country</label>
                            <input class="form-control" type="text" id="present[country]" name="profile[present][country]" value="<%= userPopulated.alumni.present_location.country %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="present[state]">Present location: State/province</label>
                            <input class="form-control" type="text" id="present[state]" name="profile[present][state]" value="<%= userPopulated.alumni.present_location.state %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="present[city]">Present location: city</label>
                            <input class="form-control" type="text" id="present[city]" name="profile[present][city]" value="<%= userPopulated.alumni.present_location.city %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="job[company]">Present company/university</label>
                            <input class="form-control" type="text" id="job[company]" name="profile[job][company]" value="<%= userPopulated.alumni.present_job.company %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="job[position]">Present occupation</label>
                            <input class="form-control" type="text" id="job[position]" name="profile[job][position]" value="<%= userPopulated.alumni.present_job.position %>">
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="ismarried">Marriage status</label>
                            <select class="form-select" id="ismarried" name="profile[ismarried]">
                                
                                <option value='1' <%= userPopulated.alumni.is_married? 'selected': '' %>>Married</option>
                                <option value='0' <%= userPopulated.alumni.is_married? '': 'selected' %>>Not Married</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label" for="phone">Phone number</label>
                            <input class="form-control" type="text" id="phone" name="profile[phone]" value="<%= userPopulated.alumni.phone %>">
                            <div class="valid-feedback">
                                Looks good!
                            </div>
                        </div>
                        <button class="btn btn-success btn-block">Update Alumni Profile</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>